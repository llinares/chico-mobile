/*
 * MBP - Mobile boilerplate helper functions
 */
(function(a){window.MBP=window.MBP||{};MBP.viewportmeta=a.querySelector&&a.querySelector('meta[name="viewport"]');MBP.ua=navigator.userAgent;MBP.scaleFix=function(){if(MBP.viewportmeta&&/iPhone|iPad|iPod/.test(MBP.ua)&&!/Opera Mini/.test(MBP.ua)){MBP.viewportmeta.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0";a.addEventListener("gesturestart",MBP.gestureStart,false)}};MBP.gestureStart=function(){MBP.viewportmeta.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"};MBP.BODY_SCROLL_TOP=false;MBP.getScrollTop=function(){var e=window,d=a;return e.pageYOffset||d.compatMode==="CSS1Compat"&&d.documentElement.scrollTop||d.body.scrollTop||0};MBP.hideUrlBar=function(){var d=window;if(!location.hash&&MBP.BODY_SCROLL_TOP!==false){d.scrollTo(0,MBP.BODY_SCROLL_TOP===1?0:1)}};MBP.hideUrlBarOnLoad=function(){var e=window,d=e.document;if(!location.hash&&e.addEventListener){window.scrollTo(0,1);MBP.BODY_SCROLL_TOP=1;bodycheck=setInterval(function(){if(d.body){clearInterval(bodycheck);MBP.BODY_SCROLL_TOP=MBP.getScrollTop();MBP.hideUrlBar()}},15);e.addEventListener("load",function(){setTimeout(function(){if(MBP.getScrollTop()<20){MBP.hideUrlBar()}},0)})}};MBP.fastButton=function(d,e){this.element=d;this.handler=e;c(d,"touchstart",this,false);c(d,"click",this,false)};MBP.fastButton.prototype.handleEvent=function(d){d=d||window.event;switch(d.type){case"touchstart":this.onTouchStart(d);break;case"touchmove":this.onTouchMove(d);break;case"touchend":this.onClick(d);break;case"click":this.onClick(d);break}};MBP.fastButton.prototype.onTouchStart=function(d){d.stopPropagation();this.element.addEventListener("touchend",this,false);a.body.addEventListener("touchmove",this,false);this.startX=d.touches[0].clientX;this.startY=d.touches[0].clientY;this.element.style.backgroundColor="rgba(0,0,0,.7)"};MBP.fastButton.prototype.onTouchMove=function(d){if(Math.abs(d.touches[0].clientX-this.startX)>10||Math.abs(d.touches[0].clientY-this.startY)>10){this.reset()}};MBP.fastButton.prototype.onClick=function(d){d=d||window.event;if(d.stopPropagation){d.stopPropagation()}this.reset();this.handler(d);if(d.type=="touchend"){MBP.preventGhostClick(this.startX,this.startY)}this.element.style.backgroundColor=""};MBP.fastButton.prototype.reset=function(){b(this.element,"touchend",this,false);b(a.body,"touchmove",this,false);this.element.style.backgroundColor=""};MBP.preventGhostClick=function(d,e){MBP.coords.push(d,e);window.setTimeout(function(){MBP.coords.splice(0,2)},2500)};MBP.ghostClickHandler=function(g){if(!MBP.hadTouchEvent&&"ontouchstart" in window){g.stopPropagation();g.preventDefault();return}for(var f=0,e=MBP.coords.length;f<e;f+=2){var d=MBP.coords[f];var h=MBP.coords[f+1];if(Math.abs(g.clientX-d)<25&&Math.abs(g.clientY-h)<25){g.stopPropagation();g.preventDefault()}}};if(a.addEventListener){a.addEventListener("click",MBP.ghostClickHandler,true)}c(a.documentElement,"touchstart",function(){MBP.hadTouchEvent=true},false);MBP.coords=[];function c(h,f,g,d){if("addEventListener" in h){try{h.addEventListener(f,g,d)}catch(i){if(typeof g=="object"&&g.handleEvent){h.addEventListener(f,function(j){g.handleEvent.call(g,j)},d)}else{throw i}}}else{if("attachEvent" in h){if(typeof g=="object"&&g.handleEvent){h.attachEvent("on"+f,function(){g.handleEvent.call(g)})}else{h.attachEvent("on"+f,g)}}}}function b(h,f,g,d){if("removeEventListener" in h){try{h.removeEventListener(f,g,d)}catch(i){if(typeof g=="object"&&g.handleEvent){h.removeEventListener(f,function(j){g.handleEvent.call(g,j)},d)}else{throw i}}}else{if("detachEvent" in h){if(typeof g=="object"&&g.handleEvent){h.detachEvent("on"+f,function(){g.handleEvent.call(g)})}else{h.detachEvent("on"+f,g)}}}}MBP.splash=function(){var d=navigator.platform==="iPad"?"h/":"l/";a.write('<link rel="apple-touch-startup-image" href="/img/'+d+'splash.png" />')};MBP.autogrow=function(f,d){function g(j){var i=this.scrollHeight,k=this.clientHeight;if(i>k){this.style.height=i+3*h+"px"}}var e=(d)?d:12,h=f.currentStyle?f.currentStyle.lineHeight:getComputedStyle(f,null).lineHeight;h=(h.indexOf("px")==-1)?e:parseInt(h,10);f.style.overflow="hidden";f.addEventListener?f.addEventListener("keyup",g,false):f.attachEvent("onkeyup",g)};MBP.enableActive=function(){a.addEventListener("touchstart",function(){},false)};MBP.viewportMeta=$('meta[name="viewport"]');MBP.preventZoom=function(){$("input, select, textarea").bind("focus blur",function(d){MBP.viewportMeta.attr("content","width=device-width,initial-scale=1,maximum-scale="+(d.type=="blur"?10:1))})}})(document);

/*
* Chico Mobile 0.4.3 MIT Licence
* @autor <chico@mercadolibre.com>
* @link http://www.chico-ui.com.ar
* @team Hernan Mammana, Leandro Linares, Guillermo Paz, Natalia Devalle, Nicolas Brizuela
*/
(function(a,c){var b=(function(){var d={version:"0.4.3"};return d})();a.ch=b})(window);ch.mobile=(function(){var e=function(h,g){$(h).bind("click",function(k){k.preventDefault();k.stopPropagation();var i=$(this),l=this.firstChild,j="#"+l.href.split("#")[1];if(!i.hasClass("ch-selected")){i.addClass("ch-selected");$(j).removeClass("ch-hide");if(i.hasClass("ch-search")){$(j).find("input[type=search]").focus()}i.siblings().removeClass("ch-selected")}else{i.removeClass("ch-selected");$(j).addClass("ch-hide")}})},f=function(j,g){if(location.hash){var i=$(".ch-expando "+location.hash),h=i.parent().next();h.load(i.attr("href")).removeClass("ch-hide");i.parent().addClass("ch-selected ch-icon-chevron-up")}$(j).bind("click",function(n){n.preventDefault();var l=g||$(this).next(),m=$(this).find("a");if(l.hasClass("ch-hide")){if(m.length>0&&location.hash!="#"+m.attr("id")){var k=m.attr("href");l.load(k);var o=window.location.hash="#"+m.attr("id")}l.removeClass("ch-hide");$(this).addClass("ch-selected ch-icon-chevron-up").removeClass("ch-icon-chevron-down")}else{$(this).removeClass("ch-selected ch-icon-chevron-up").addClass("ch-icon-chevron-down");l.addClass("ch-hide")}})},d=(function(){var g=$("<link>").attr({href:"src/css/chico-compatible.css",rel:"stylesheet"}),h=MBP.ua.split(";");if(h[2]==" Android 2.1"||h[2]==" Android 2.1-update1"){$("html").addClass("ch-no-fontface");$("head").append(g)}})(),b=(function(){var g={},i=null;var h=function(o,m,n){g[o]={show:m,hide:n}},l=function(){var n=location.hash;if(g[n]){g[n].show();i=g[n]}if(n==""){try{i.hide()}catch(m){}}},j=function(o){var n=function(){var q=window.location.hash.split("#");var s=q[1];if(typeof s=="undefined"){return false}var r=s.indexOf("?");if(r>0){s=s.substring(0,r)}return s};var p=n();(function m(){var r=n();if(r!==p){o();p=r}var q=setTimeout(m,100)})()};j(l);var k={init:l,push:h,arr:g};return k})(),a=function(h,m,o){var n=$(h),g=$(m).addClass("ch-modal-content"),l=$("<div>").addClass("ch-modal ch-hide"),k=$("div[data-page=index]"),i;var p=function(r){if(o){o.call(r)}i=window.pageYOffset;k.addClass("ch-hide");l.removeClass("ch-hide");window.scrollTo(0,1)};var j=function(){k.removeClass("ch-hide");l.addClass("ch-hide");window.scrollTo(0,i)};var q=$('<a class="ch-btn-action ch-btn-small" data-action="close">Cancelar</a>').bind("click",function(){window.location.hash=""});b.push("#!"+g.attr("id"),p,j);g.removeClass("ch-hide").wrapAll(l);l.find(".ch-header-action nav").append(q);n.live("click",function(s){s.preventDefault();s.stopPropagation();var r=window.location.hash="#!"+g.attr("id")})};var c={menu:e,expando:f,modal:a};return c})();